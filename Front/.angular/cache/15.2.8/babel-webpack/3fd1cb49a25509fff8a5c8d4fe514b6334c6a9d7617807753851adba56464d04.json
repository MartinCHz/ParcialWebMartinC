{"ast":null,"code":"import { Book } from '../model/Book';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../shared/Book.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class ModificarComponent {\n  constructor(bookService, route, router) {\n    this.bookService = bookService;\n    this.route = route;\n    this.router = router;\n    this.bookId = 0;\n    this.book = new Book();\n  }\n  ngOnInit() {\n    this.route.queryParams.subscribe(params => {\n      this.bookId = params['id'];\n      this.buscarLibro();\n    });\n  }\n  buscarLibro() {\n    this.bookService.findBook(this.bookId).subscribe(book => {\n      this.book = book;\n    }, error => {\n      console.log('Error al buscar el libro:', error);\n    });\n  }\n  modificarLibro() {\n    this.bookService.update(this.book).subscribe(updatedBook => {\n      console.log('Libro modificado:', updatedBook);\n      this.router.navigate(['/listalibro']);\n      // Aquí puedes agregar la lógica adicional después de modificar el libro\n    }, error => {\n      console.log('Error al modificar el libro:', error);\n    });\n  }\n}\nModificarComponent.ɵfac = function ModificarComponent_Factory(t) {\n  return new (t || ModificarComponent)(i0.ɵɵdirectiveInject(i1.BookService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n};\nModificarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ModificarComponent,\n  selectors: [[\"app-modificar\"]],\n  decls: 24,\n  vars: 5,\n  consts: [[\"for\", \"title\"], [\"type\", \"text\", \"id\", \"title\", \"name\", \"title\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"reference\"], [\"type\", \"text\", \"id\", \"reference\", \"name\", \"reference\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"author\"], [\"type\", \"text\", \"id\", \"author\", \"name\", \"author\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"price\"], [\"type\", \"text\", \"id\", \"price\", \"name\", \"price\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"location\"], [\"type\", \"text\", \"id\", \"location\", \"name\", \"location\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", \"value\", \"Modificar\", 3, \"click\"]],\n  template: function ModificarComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"html\")(1, \"head\")(2, \"title\");\n      i0.ɵɵtext(3, \"Modificar Libro\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"body\")(5, \"h2\");\n      i0.ɵɵtext(6, \"Modificar Libro\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"form\")(8, \"label\", 0);\n      i0.ɵɵtext(9, \"Title:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"input\", 1);\n      i0.ɵɵlistener(\"ngModelChange\", function ModificarComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.book.title = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"label\", 2);\n      i0.ɵɵtext(12, \"Reference:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function ModificarComponent_Template_input_ngModelChange_13_listener($event) {\n        return ctx.book.reference = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"label\", 4);\n      i0.ɵɵtext(15, \"Author:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function ModificarComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.book.author = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"label\", 6);\n      i0.ɵɵtext(18, \"Price:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function ModificarComponent_Template_input_ngModelChange_19_listener($event) {\n        return ctx.book.price = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"label\", 8);\n      i0.ɵɵtext(21, \"Location:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function ModificarComponent_Template_input_ngModelChange_22_listener($event) {\n        return ctx.book.location = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"input\", 10);\n      i0.ɵɵlistener(\"click\", function ModificarComponent_Template_input_click_23_listener() {\n        return ctx.modificarLibro();\n      });\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.book.title);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.book.reference);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.book.author);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.book.price);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.book.location);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\", \"body[_ngcontent-%COMP%] {\\n      font-family: Arial, sans-serif;\\n    }\\n  \\n    label[_ngcontent-%COMP%] {\\n      display: block;\\n      margin-bottom: 5px;\\n    }\\n  \\n    input[type=\\\"text\\\"][_ngcontent-%COMP%] {\\n      width: 300px;\\n      padding: 5px;\\n    }\\n  \\n    input[type=\\\"submit\\\"][_ngcontent-%COMP%] {\\n      padding: 10px 20px;\\n      background-color: #4CAF50;\\n      color: white;\\n      border: none;\\n      cursor: pointer;\\n    }\\n  \\n    input[type=\\\"submit\\\"][_ngcontent-%COMP%]:hover {\\n      background-color: #45a049;\\n    }\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,IAAI,QAAQ,eAAe;;;;;AASpC,OAAM,MAAOC,kBAAkB;EAI7BC,YAAoBC,WAAwB,EAAUC,KAAqB,EAAWC,MAAc;IAAhF,gBAAW,GAAXF,WAAW;IAAuB,UAAK,GAALC,KAAK;IAA2B,WAAM,GAANC,MAAM;IAH5F,WAAM,GAAW,CAAC;IAClB,SAAI,GAAS,IAAIL,IAAI,EAAE;EAEgF;EAEvGM,QAAQ;IACN,IAAI,CAACF,KAAK,CAACG,WAAW,CAACC,SAAS,CAACC,MAAM,IAAG;MACxC,IAAI,CAACC,MAAM,GAAGD,MAAM,CAAC,IAAI,CAAC;MAC1B,IAAI,CAACE,WAAW,EAAE;IACpB,CAAC,CAAC;EACJ;EAEAA,WAAW;IACT,IAAI,CAACR,WAAW,CAACS,QAAQ,CAAC,IAAI,CAACF,MAAM,CAAC,CAACF,SAAS,CAC7CK,IAAU,IAAI;MACb,IAAI,CAACA,IAAI,GAAGA,IAAI;IAClB,CAAC,EACAC,KAAK,IAAI;MACRC,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEF,KAAK,CAAC;IACjD,CAAC,CACF;EACH;EAEAG,cAAc;IACZ,IAAI,CAACd,WAAW,CAACe,MAAM,CAAC,IAAI,CAACL,IAAI,CAAC,CAACL,SAAS,CACzCW,WAAiB,IAAI;MACpBJ,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEG,WAAW,CAAC;MAC7C,IAAI,CAACd,MAAM,CAACe,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC;MACrC;IACF,CAAC,EACAN,KAAK,IAAI;MACRC,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEF,KAAK,CAAC;IACpD,CAAC,CACF;EACH;;AAnCWb,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAAoB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCT/BC,4BAAM;MAEGA,+BAAe;MAAAA,iBAAQ;MA6BhCA,4BAAM;MACAA,+BAAe;MAAAA,iBAAK;MACxBA,4BAAM;MACeA,sBAAM;MAAAA,iBAAQ;MACjCA,iCAA6E;MAAtEA;QAAA;MAAA,EAAwB;MAA/BA,iBAA6E;MAE7EA,iCAAuB;MAAAA,2BAAU;MAAAA,iBAAQ;MACzCA,iCAAyF;MAAlFA;QAAA;MAAA,EAA4B;MAAnCA,iBAAyF;MAEzFA,iCAAoB;MAAAA,wBAAO;MAAAA,iBAAQ;MACnCA,iCAAgF;MAAzEA;QAAA;MAAA,EAAyB;MAAhCA,iBAAgF;MAEhFA,iCAAmB;MAAAA,uBAAM;MAAAA,iBAAQ;MACjCA,iCAA6E;MAAtEA;QAAA;MAAA,EAAwB;MAA/BA,iBAA6E;MAE7EA,iCAAsB;MAAAA,0BAAS;MAAAA,iBAAQ;MACvCA,iCAAsF;MAA/EA;QAAA;MAAA,EAA2B;MAAlCA,iBAAsF;MAEtFA,kCAAkE;MAA3BA;QAAA,OAASC,oBAAgB;MAAA,EAAC;MAAjED,iBAAkE;;;MAd3DA,gBAAwB;MAAxBA,wCAAwB;MAGxBA,eAA4B;MAA5BA,4CAA4B;MAG5BA,eAAyB;MAAzBA,yCAAyB;MAGzBA,eAAwB;MAAxBA,wCAAwB;MAGxBA,eAA2B;MAA3BA,2CAA2B","names":["Book","ModificarComponent","constructor","bookService","route","router","ngOnInit","queryParams","subscribe","params","bookId","buscarLibro","findBook","book","error","console","log","modificarLibro","update","updatedBook","navigate","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\marti\\ParcialWebChen\\ParcialWebMartinA\\src\\app\\modificar\\modificar.component.ts","C:\\Users\\marti\\ParcialWebChen\\ParcialWebMartinA\\src\\app\\modificar\\modificar.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Book } from '../model/Book';\nimport { BookService } from '../shared/Book.service';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-modificar',\n  templateUrl: './modificar.component.html',\n  styleUrls: ['./modificar.component.css']\n})\nexport class ModificarComponent implements OnInit {\n  bookId: number = 0;\n  book: Book = new Book();\n\n  constructor(private bookService: BookService, private route: ActivatedRoute,  private router: Router) {}\n\n  ngOnInit(): void {\n    this.route.queryParams.subscribe(params => {\n      this.bookId = params['id'];\n      this.buscarLibro();\n    });\n  }\n\n  buscarLibro() {\n    this.bookService.findBook(this.bookId).subscribe(\n      (book: Book) => {\n        this.book = book;\n      },\n      (error) => {\n        console.log('Error al buscar el libro:', error);\n      }\n    );\n  }\n\n  modificarLibro() {\n    this.bookService.update(this.book).subscribe(\n      (updatedBook: Book) => {\n        console.log('Libro modificado:', updatedBook);\n        this.router.navigate(['/listalibro']);\n        // Aquí puedes agregar la lógica adicional después de modificar el libro\n      },\n      (error) => {\n        console.log('Error al modificar el libro:', error);\n      }\n    );\n  }\n}\n","<!DOCTYPE html>\n<html>\n<head>\n  <title>Modificar Libro</title>\n  <style>\n    body {\n      font-family: Arial, sans-serif;\n    }\n  \n    label {\n      display: block;\n      margin-bottom: 5px;\n    }\n  \n    input[type=\"text\"] {\n      width: 300px;\n      padding: 5px;\n    }\n  \n    input[type=\"submit\"] {\n      padding: 10px 20px;\n      background-color: #4CAF50;\n      color: white;\n      border: none;\n      cursor: pointer;\n    }\n  \n    input[type=\"submit\"]:hover {\n      background-color: #45a049;\n    }\n  </style>\n</head>\n<body>\n  <h2>Modificar Libro</h2>\n  <form>\n    <label for=\"title\">Title:</label>\n    <input [(ngModel)]=\"book.title\" type=\"text\" id=\"title\" name=\"title\" required>\n  \n    <label for=\"reference\">Reference:</label>\n    <input [(ngModel)]=\"book.reference\" type=\"text\" id=\"reference\" name=\"reference\" required>\n  \n    <label for=\"author\">Author:</label>\n    <input [(ngModel)]=\"book.author\" type=\"text\" id=\"author\" name=\"author\" required>\n  \n    <label for=\"price\">Price:</label>\n    <input [(ngModel)]=\"book.price\" type=\"text\" id=\"price\" name=\"price\" required>\n  \n    <label for=\"location\">Location:</label>\n    <input [(ngModel)]=\"book.location\" type=\"text\" id=\"location\" name=\"location\" required>\n  \n    <input type=\"submit\" value=\"Modificar\" (click)=\"modificarLibro()\">\n  </form>\n</body>\n</html>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}